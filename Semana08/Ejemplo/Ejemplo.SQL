
CREATE TABLE dbo.DM_PRODUCTO
( 
	IDPRODUCTO           integer  NOT NULL ,
	NOMB_PRODUCTO        varchar(150)  NOT NULL ,
	SUBFAMILIA           varchar(150)  NOT NULL ,
	FAMILIA              varchar(150)  NOT NULL ,
	CONSTRAINT XPKDM_PRODUCTO PRIMARY KEY (IDPRODUCTO ASC)
)
go



CREATE TABLE dbo.DM_ALMACEN
( 
	IDALMACEN            integer  NOT NULL ,
	NOMB_ALMACEN         varchar(20)  NULL ,
	CONSTRAINT XPKDM_ALMACEN PRIMARY KEY (IDALMACEN ASC)
)
go



CREATE TABLE dbo.DM_CLIENTE
( 
	IDCLIENTE            integer  NOT NULL ,
	NOMB_CLIENTE         varchar(150)  NOT NULL ,
	CONSTRAINT XPKDM_CLIENTE PRIMARY KEY (IDCLIENTE ASC)
)
go



CREATE TABLE dbo.DM_ZONA
( 
	IDZONA               integer  NOT NULL ,
	NOMB_ZONA            varchar(150)  NOT NULL ,
	DISTRITO             varchar(150)  NOT NULL ,
	PROVINCIA            varchar(150)  NOT NULL ,
	DEPARTAMENTO         varchar(150)  NOT NULL ,
	CONSTRAINT XPKDM_ZONA PRIMARY KEY (IDZONA ASC)
)
go



CREATE TABLE dbo.DM_TIEMPO
( 
	IDTIEMPO             integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	ANIO                 integer  NOT NULL ,
	SEMESTRE             integer  NOT NULL ,
	TRIMESTRE            integer  NOT NULL ,
	MES                  integer  NOT NULL ,
	SEMANA               integer  NOT NULL ,
	DIA                  integer  NOT NULL ,
	CONSTRAINT XPKDM_TIEMPO PRIMARY KEY (IDTIEMPO ASC)
)
go



CREATE TABLE dbo.FACT_VENTAS
( 
	IDPRODUCTO           integer  NOT NULL ,
	IDALMACEN            integer  NOT NULL ,
	IDCLIENTE            integer  NOT NULL ,
	IDZONA               integer  NOT NULL ,
	IDTIEMPO             integer  NOT NULL ,
	IMPORTE              numeric(12,2)  NOT NULL ,
	UNIDADES             integer  NOT NULL ,
	CONSTRAINT XPKFACT_VENTAS PRIMARY KEY (IDPRODUCTO ASC,IDALMACEN ASC,IDCLIENTE ASC,IDZONA ASC,IDTIEMPO ASC),
	CONSTRAINT FK_FACT_VENTAS_DM_PRODUCTO FOREIGN KEY (IDPRODUCTO) REFERENCES dbo.DM_PRODUCTO(IDPRODUCTO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_FACT_VENTAS_DM_ALMACEN FOREIGN KEY (IDALMACEN) REFERENCES dbo.DM_ALMACEN(IDALMACEN)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_FACT_VENTAS_DM_CLIENTE FOREIGN KEY (IDCLIENTE) REFERENCES dbo.DM_CLIENTE(IDCLIENTE)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_FACT_VENTAS_DM_ZONA FOREIGN KEY (IDZONA) REFERENCES dbo.DM_ZONA(IDZONA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_FACT_VENTAS_DM_TIEMPO FOREIGN KEY (IDTIEMPO) REFERENCES dbo.DM_TIEMPO(IDTIEMPO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go


